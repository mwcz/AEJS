<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>~/workspace/aejs/src/perftest.html.html</title>
<meta name="Generator" content="Vim/7.2">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<script type="text/javascript">

var typed = new Uint8Array( 1000000 );
var untyped = new Array();
untyped[1000000] = 0;

var int_var = new Uint8Array(1);
var num_var = 0;

window.onload = function() {


    console.log("Uint8Array, creating 1,000,000 elements, initialized to all zeroes.");
    console.time("result");
    for( var i = 0; i < typed.length; i++ ) {
        typed[i] = 0;
    }
    console.timeEnd("result");

    console.log("Array, creating 1,000,000 elements, initialized to all zeroes.");
    console.time("result");
    for( var i = 0; i < untyped.length; i++ ) {
        untyped[i] = 0;
    }
    console.timeEnd("result");

    console.log("Uint8, 1 element, 1,000,000 iterations, basic arithmetic operations.");
    console.time("result");
    for( var i = 0; i < 1000000; i++ ) {
        int_var[0] += 1;
        int_var[0] -= 2;
        int_var[0] *= 3;
    }
    console.timeEnd("result");

    console.log("JS num (Float64), 1,000,000 iterations, basic arithmetic operations.");
    console.time("result");
    for( var i = 0; i < 1000000; i++ ) {
        num_var += 1;
        num_var -= 2;
        num_var *= 3;
    }
    console.timeEnd("result");

};

</script>

</head>
<body bgcolor="#1c1c1c" text="#d7d7d7"><font face="monospace">

<pre>
javascript typed arrays vs. dynamic arrays performance test

check console output for results.

</pre>

</font></body>
</html>

